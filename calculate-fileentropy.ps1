function Calculate-FileEntropy {
    param([string]$FilePath)
    
    $bytes = [System.IO.File]::ReadAllBytes($FilePath)
    $groups = $bytes | Group-Object | ForEach-Object { $_.Count / $bytes.Length }
    $entropy = 0

    foreach ($group in $groups) {
        $entropy += $group * [Math]::Log($group, 2)
    }
    
    $entropy = -($entropy)
    Write-Output "Entropy: $($entropy * 8) bits per byte"
}


Calculate-FileEntropy -FilePath "fileobfuscator.exe"

